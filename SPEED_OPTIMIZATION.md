# ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π

## –¶–µ–ª—å: < 10 —Å–µ–∫—É–Ω–¥ –Ω–∞ –ø–ª–∞—Ç–µ–∂ (–±—ã–ª–æ 15-30 —Å–µ–∫—É–Ω–¥)

## –ü—Ä–æ–±–ª–µ–º—ã –≤ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏

1. **–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞** - 5-10 —Å–µ–∫—É–Ω–¥
2. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–ª–∞—Ç–µ–∂–µ** - 3-5 —Å–µ–∫—É–Ω–¥
3. **–ú–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤** - 3-5 —Å–µ–∫—É–Ω–¥
4. **–£–±–∏–π—Å—Ç–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Chrome –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞** - 2-3 —Å–µ–∫—É–Ω–¥—ã

**–ò—Ç–æ–≥–æ: 15-30 —Å–µ–∫—É–Ω–¥ –Ω–∞ –ø–ª–∞—Ç–µ–∂**

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Ç–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ ‚úÖ

**–ë—ã–ª–æ:**
```python
# –°–æ–∑–¥–∞–≤–∞–ª—Å—è –Ω–æ–≤—ã–π –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–ª–∞—Ç–µ–∂–∞
driver = self._create_driver()  # 5-10 —Å–µ–∫
# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∫–∞–∂–¥—ã–π —Ä–∞–∑
login()  # 3-5 —Å–µ–∫
```

**–°—Ç–∞–ª–æ:**
```python
# –ë—Ä–∞—É–∑–µ—Ä —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏ –æ—Å—Ç–∞–µ—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º
# –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä
if not browser_manager.is_ready:
    browser_manager.warmup()  # –¢–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ
# –í—Å–µ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≥–æ—Ç–æ–≤—ã–π –±—Ä–∞—É–∑–µ—Ä
```

**–≠–∫–æ–Ω–æ–º–∏—è: 8-15 —Å–µ–∫—É–Ω–¥**

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–∞–π–º–∞—É—Ç–æ–≤ ‚úÖ

**–ë—ã–ª–æ:**
```python
wait = WebDriverWait(driver, 20)  # –°–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ
time.sleep(3)  # –ò–∑–±—ã—Ç–æ—á–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏
wait_payment_ready(timeout=15)  # –î–æ–ª–≥–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ
```

**–°—Ç–∞–ª–æ:**
```python
wait = WebDriverWait(driver, 5)  # –ë—ã—Å—Ç—Ä–µ–µ
time.sleep(0.5)  # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏
wait_payment_ready(timeout=8)  # –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ
```

**–≠–∫–æ–Ω–æ–º–∏—è: 3-5 —Å–µ–∫—É–Ω–¥**

### 3. –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ ‚úÖ

**–ë—ã–ª–æ:**
```python
def wait_payment_ready(timeout=12):
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ 3 —É—Å–ª–æ–≤–∏–π
    loader_ok and button_ok and result_ok
    time.sleep(0.12)  # –ú–µ–¥–ª–µ–Ω–Ω—ã–π polling
```

**–°—Ç–∞–ª–æ:**
```python
def wait_payment_ready(timeout=8):
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
    loader_ok and button_ok
    time.sleep(0.08)  # –ë—ã—Å—Ç—Ä—ã–π polling
```

**–≠–∫–æ–Ω–æ–º–∏—è: 2-3 —Å–µ–∫—É–Ω–¥—ã**

### 4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ–≤–∞ –±—Ä–∞—É–∑–µ—Ä–∞ ‚úÖ

**–ë—ã–ª–æ:**
```python
self.driver.get(ELECSNET_URL)  # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
time.sleep(2)
login()
time.sleep(3)
self.driver.get(ELECSNET_URL)  # –°–Ω–æ–≤–∞ –≥–ª–∞–≤–Ω–∞—è
time.sleep(1)
# –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã
```

**–°—Ç–∞–ª–æ:**
```python
# –°—Ä–∞–∑—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã
self.driver.get('https://1.elecsnet.ru/.../default.aspx?merchantId=36924')
time.sleep(1)
login()  # –ï—Å–ª–∏ –Ω—É–∂–Ω–æ
time.sleep(2)
# –£–∂–µ –Ω–∞ –Ω—É–∂–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
```

**–≠–∫–æ–Ω–æ–º–∏—è: 2-4 —Å–µ–∫—É–Ω–¥—ã**

### 5. –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π ‚úÖ

**–ë—ã–ª–æ:**
```python
card_input.clear()  # –û—á–∏—Å—Ç–∫–∞
card_input.send_keys(...)  # –í–≤–æ–¥
name_input.clear()  # –û—á–∏—Å—Ç–∫–∞
name_input.send_keys(...)  # –í–≤–æ–¥
```

**–°—Ç–∞–ª–æ:**
```python
# –†–µ–∫–≤–∏–∑–∏—Ç—ã —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∏ –ø—Ä–æ–≥—Ä–µ–≤–µ
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ –æ–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
if current_card != requisite["card_number"]:
    driver.execute_script("arguments[0].value = arguments[1]", ...)
```

**–≠–∫–æ–Ω–æ–º–∏—è: 1-2 —Å–µ–∫—É–Ω–¥—ã**

### 6. –ë—ã—Å—Ç—Ä—ã–π –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ —Ñ–æ—Ä–º—É ‚úÖ

**–ë—ã–ª–æ:**
```python
# –ü–æ—Å–ª–µ –ø–ª–∞—Ç–µ–∂–∞ - –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
self.driver.get(ELECSNET_URL)
time.sleep(2)
# –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
# –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –∑–∞–Ω–æ–≤–æ
```

**–°—Ç–∞–ª–æ:**
```python
# –ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
try:
    driver.get("https://1.elecsnet.ru/.../default.aspx?merchantId=36924")
    # –ë—Ä–∞—É–∑–µ—Ä –≥–æ—Ç–æ–≤ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∑–∞–ø—Ä–æ—Å—É
except:
    pass
```

**–≠–∫–æ–Ω–æ–º–∏—è: 1-2 —Å–µ–∫—É–Ω–¥—ã**

## –ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –û–∂–∏–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å:

- **–ü–µ—Ä–≤—ã–π –ø–ª–∞—Ç–µ–∂:** 8-12 —Å–µ–∫—É–Ω–¥ (–≤–∫–ª—é—á–∞—è –ø—Ä–æ–≥—Ä–µ–≤ –±—Ä–∞—É–∑–µ—Ä–∞)
- **–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –ø–ª–∞—Ç–µ–∂–∏:** 5-8 —Å–µ–∫—É–Ω–¥ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–µ—Ç—ã–π –±—Ä–∞—É–∑–µ—Ä)

### –£–ª—É—á—à–µ–Ω–∏–µ:

- **–ë—ã–ª–æ:** 15-30 —Å–µ–∫—É–Ω–¥
- **–°—Ç–∞–ª–æ:** 5-12 —Å–µ–∫—É–Ω–¥
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ:** –≤ 2-3 —Ä–∞–∑–∞

## –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. `bot/payment_service.py` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π
2. `bot/browser_manager.py` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–º –∏ –ø—Ä–æ–≥—Ä–µ–≤

## –î–µ–ø–ª–æ–π

```bash
# Linux/Mac
./deploy_optimized.sh

# Windows
.\deploy_optimized.ps1
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
curl -X POST http://85.192.56.74:5001/api/payment \
  -H 'Authorization: Bearer -3uVLlbWyy90eapOGkv70C2ZltaYTxq-HtDbq-DtlLo' \
  -H 'Content-Type: application/json' \
  -d '{"amount": 1000, "orderId": "test-speed-123"}'
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```json
{
  "success": true,
  "orderId": "test-speed-123",
  "qrcId": "BD100068KFC8DNQ38LSB6IHH8B7V99O9",
  "qr": "https://qr.nspk.ru/..."
}
```

–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: **5-12 —Å–µ–∫—É–Ω–¥**

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
ssh root@85.192.56.74 'docker logs -f linkflow-payment-admin-1'
```

–ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏:
- `‚ö° –£–õ–¨–¢–†–ê-–ë–´–°–¢–†–û–ï —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞` - –Ω–∞—á–∞–ª–æ
- `üöÄ –ü–ª–∞—Ç—ë–∂ —Å–æ–∑–¥–∞–Ω –∑–∞ X.X —Å–µ–∫` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- `‚úÖ –ë—Ä–∞—É–∑–µ—Ä –ø—Ä–æ–≥—Ä–µ—Ç –∑–∞ X.X —Å–µ–∫` - –ø—Ä–æ–≥—Ä–µ–≤ (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π —Ä–∞–∑)

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç:
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
- ‚úÖ –§–æ—Ä–º–∞—Ç API –æ—Ç–≤–µ—Ç–∞
